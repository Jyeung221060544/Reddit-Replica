{"ast":null,"code":"var _jsxFileName = \"/Users/nekoro/Desktop/CSE316/GitHub/Reddit-Replica/client/src/components/communityPageView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Divider, PostDisplay } from \"./classWideComponents\";\nimport { newestCommunityPostArray, oldestCommunityPostArray, activeCommunityPostArray, getTimeAgo, useParsedDescription } from \"../helperFunctions.js\";\nimport { PhredditContext } from \"./context.js\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CommunityPageView() {\n  _s();\n  const {\n    postState: {\n      posts,\n      postIDs\n    },\n    commentState: {\n      comments,\n      commentIDs\n    },\n    communityState: {\n      community\n    },\n    showPageFunctions: {\n      currentPage\n    }\n  } = useContext(PhredditContext);\n  const [currentOrder, setCurrentOrder] = useState('newest'); // Default order\n  const handleNewstOrder = () => setCurrentOrder('newest');\n  const handleOldestOrder = () => setCurrentOrder('oldest');\n  const handleActiveOrder = () => setCurrentOrder('active');\n  if (!community) {\n    return null;\n  }\n  const newest = newestCommunityPostArray(community, posts, postIDs);\n  const oldest = oldestCommunityPostArray(community, posts, postIDs);\n  const active = activeCommunityPostArray(community, posts, postIDs, comments, commentIDs);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container main\",\n    id: \"community-page\",\n    style: {\n      display: currentPage === 'community' ? 'block' : 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CommunityContentBanner, {\n      newest: handleNewstOrder,\n      oldest: handleOldestOrder,\n      active: handleActiveOrder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), currentOrder === 'newest' ? /*#__PURE__*/_jsxDEV(CommunityPosts, {\n      posts: newest\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 19\n    }, this) : currentOrder === 'oldest' ? /*#__PURE__*/_jsxDEV(CommunityPosts, {\n      posts: oldest\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(CommunityPosts, {\n      posts: active\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n_s(CommunityPageView, \"/Om0lNesp5zDh59C5SqQGGKPcI4=\");\n_c = CommunityPageView;\nfunction CommunityContentBanner({\n  newest,\n  oldest,\n  active\n}) {\n  _s2();\n  const {\n    communityState: {\n      community\n    }\n  } = useContext(PhredditContext);\n  let timeText = getTimeAgo(community.startDate);\n  let num_posts = community.postIDs.length;\n  const parsedDescription = useParsedDescription(community.description);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    id: \"community-content-banner\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      id: \"community-title\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\" \", community.name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"community-info\",\n          children: parsedDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"community-info\",\n          children: [\"Created By \", community.createdBy.displayName, \" \", timeText]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"community-info\",\n          children: [\" \", community.memberCount, \" members | \", num_posts, \" \", num_posts === 1 ? \" Post\" : \" Posts\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CommunityJoinOrLeave, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(OrderButtons, {\n        newest: newest,\n        oldest: oldest,\n        active: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s2(CommunityContentBanner, \"iNxQPvnLYSFxttujAWUsZY8vzz4=\", false, function () {\n  return [useParsedDescription];\n});\n_c2 = CommunityContentBanner;\nfunction OrderButtons({\n  newest,\n  oldest,\n  active\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    id: \"all-posts-header\",\n    style: {\n      width: '50%',\n      paddingTop: '25px',\n      paddingBottom: '0px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"newest-container\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"community-newest-button\",\n        type: \"button\",\n        value: \"Newest\",\n        onClick: newest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"oldest-container\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"community-oldest-button\",\n        type: \"button\",\n        value: \"Oldest\",\n        onClick: oldest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"active-container\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"community-active-button\",\n        type: \"button\",\n        value: \"Active\",\n        onClick: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n_c3 = OrderButtons;\nfunction CommunityPosts({\n  posts\n}) {\n  // console.log(posts);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      id: \"community-num-posts\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"num-posts-text\",\n        children: posts.length === 0 ? \"No Posts\" : `${posts.length} Post${posts.length > 1 ? \"s\" : \"\"}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      id: \"community-posts\",\n      children: posts.map(post => {\n        // console.log(post);\n        if (!post) return;\n        return /*#__PURE__*/_jsxDEV(PostDisplay, {\n          post: post,\n          id: \"community\"\n        }, post._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n_c4 = CommunityPosts;\nfunction CommunityJoinOrLeave() {\n  _s3();\n  const {\n    communityState: {\n      community,\n      setCommunity,\n      setCommunities\n    },\n    loginState: {\n      login\n    },\n    userState: {\n      user,\n      setUser\n    },\n    showPageFunctions: {\n      showCommunityPage\n    }\n  } = useContext(PhredditContext);\n  const [isMember, setIsMember] = useState(false);\n  useEffect(() => {\n    if (login && user && community) {\n      setIsMember(user.communityIDs.some(c => {\n        var _c$_id, _community$_id, _community$_id2;\n        return ((_c$_id = c._id) === null || _c$_id === void 0 ? void 0 : _c$_id.toString()) === ((_community$_id = community._id) === null || _community$_id === void 0 ? void 0 : _community$_id.toString()) || c.toString() === ((_community$_id2 = community._id) === null || _community$_id2 === void 0 ? void 0 : _community$_id2.toString());\n      }));\n    } else {\n      setIsMember(false);\n    }\n  }, [login, user, community]);\n  var buttonValue = \"\";\n  if (isMember) {\n    buttonValue = \"Leave Community\";\n  } else {\n    buttonValue = \"Join Community\";\n  }\n  const joinOrLeaveButton = async () => {\n    console.log(isMember);\n    if (isMember) {\n      const response = await axios.post(\"http://127.0.0.1:8000/leavecommunity\", {\n        communityID: community._id,\n        userID: user._id\n      });\n      const {\n        updatedCommunity,\n        updatedUser\n      } = response.data;\n      console.log(updatedCommunity);\n      setCommunity(updatedCommunity);\n      setUser(updatedUser);\n      showCommunityPage(updatedCommunity);\n      setIsMember(false);\n      const updatedCommunities = await axios.get(\"http://127.0.0.1:8000/get/communities\");\n      setCommunities(updatedCommunities.data);\n    } else {\n      const response = await axios.post(\"http://127.0.0.1:8000/joincommunity\", {\n        communityID: community._id,\n        userID: user._id\n      });\n      const {\n        updatedCommunity,\n        updatedUser\n      } = response.data;\n      setCommunity(updatedCommunity);\n      setUser(updatedUser);\n      showCommunityPage(updatedCommunity);\n      setIsMember(true);\n      const updatedCommunities = await axios.get(\"http://127.0.0.1:8000/get/communities\");\n      setCommunities(updatedCommunities.data);\n    }\n    if (isMember) {\n      buttonValue = \"Leave Community\";\n    } else {\n      buttonValue = \"Join Community\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"button-container\",\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"join-or-leave-community-button-input\",\n      className: \"submit-button\",\n      type: \"button\",\n      value: buttonValue,\n      style: {\n        display: login ? 'block' : 'none'\n      },\n      onClick: joinOrLeaveButton\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 9\n  }, this);\n}\n_s3(CommunityJoinOrLeave, \"6evEJv5hoAmZWAf5Yl5THJ/XAgg=\");\n_c5 = CommunityJoinOrLeave;\nexport { CommunityPageView };\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"CommunityPageView\");\n$RefreshReg$(_c2, \"CommunityContentBanner\");\n$RefreshReg$(_c3, \"OrderButtons\");\n$RefreshReg$(_c4, \"CommunityPosts\");\n$RefreshReg$(_c5, \"CommunityJoinOrLeave\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Divider","PostDisplay","newestCommunityPostArray","oldestCommunityPostArray","activeCommunityPostArray","getTimeAgo","useParsedDescription","PhredditContext","axios","jsxDEV","_jsxDEV","CommunityPageView","_s","postState","posts","postIDs","commentState","comments","commentIDs","communityState","community","showPageFunctions","currentPage","currentOrder","setCurrentOrder","handleNewstOrder","handleOldestOrder","handleActiveOrder","newest","oldest","active","className","id","style","display","children","CommunityContentBanner","fileName","_jsxFileName","lineNumber","columnNumber","CommunityPosts","_c","_s2","timeText","startDate","num_posts","length","parsedDescription","description","name","createdBy","displayName","memberCount","CommunityJoinOrLeave","OrderButtons","_c2","width","paddingTop","paddingBottom","type","value","onClick","_c3","map","post","_id","_c4","_s3","setCommunity","setCommunities","loginState","login","userState","user","setUser","showCommunityPage","isMember","setIsMember","communityIDs","some","c","_c$_id","_community$_id","_community$_id2","toString","buttonValue","joinOrLeaveButton","console","log","response","communityID","userID","updatedCommunity","updatedUser","data","updatedCommunities","get","_c5","$RefreshReg$"],"sources":["/Users/nekoro/Desktop/CSE316/GitHub/Reddit-Replica/client/src/components/communityPageView.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { Divider, PostDisplay } from \"./classWideComponents\";\nimport { newestCommunityPostArray, oldestCommunityPostArray, activeCommunityPostArray, getTimeAgo, useParsedDescription } from \"../helperFunctions.js\";\nimport { PhredditContext } from \"./context.js\";\nimport axios from 'axios';\n\nfunction CommunityPageView() {\n    const {\n        postState: { posts, postIDs },\n        commentState: { comments, commentIDs },\n        communityState: { community },\n        showPageFunctions: { currentPage }\n    } = useContext(PhredditContext);\n    const [currentOrder, setCurrentOrder] = useState('newest'); // Default order\n    const handleNewstOrder = () => setCurrentOrder('newest');\n    const handleOldestOrder = () => setCurrentOrder('oldest');\n    const handleActiveOrder = () => setCurrentOrder('active');\n    \n    if(!community){\n        return null;\n    } \n    const newest = newestCommunityPostArray(community, posts, postIDs);\n    const oldest = oldestCommunityPostArray(community, posts, postIDs);\n    const active = activeCommunityPostArray(community, posts, postIDs, comments, commentIDs);\n    return (\n        <div className=\"container main\" id=\"community-page\" style={{ display: currentPage === 'community' ? 'block' : 'none'}}> \n            <CommunityContentBanner newest={handleNewstOrder} oldest={handleOldestOrder} active={handleActiveOrder} />\n            <Divider />\n            {currentOrder === 'newest' \n                ? <CommunityPosts posts={newest} />  \n                : currentOrder === 'oldest' \n                ? <CommunityPosts posts={oldest} />  \n                : <CommunityPosts posts={active} />  \n            }\n        </div>\n    );\n    \n}\n\nfunction CommunityContentBanner({newest, oldest, active}) {\n    const { communityState: {community} } = useContext(PhredditContext);\n    let timeText = getTimeAgo(community.startDate);\n    let num_posts = community.postIDs.length;\n    const parsedDescription = useParsedDescription(community.description);\n    return (\n        <div className=\"container\" id=\"community-content-banner\">\n            <div className=\"title\" id=\"community-title\">\n                <h2> {community.name} </h2>\n            </div>\n            <div className=\"container\">\n                <div id=\"info\" >\n                    <p className='community-info'>{parsedDescription}</p>\n                    <p className='community-info'>\n                        Created By {community.createdBy.displayName} {timeText}\n                    </p>\n                    <p className='community-info'> {community.memberCount} members | {num_posts} {num_posts===1 ? \" Post\" : \" Posts\"}</p>\n                    <CommunityJoinOrLeave />\n                </div>\n                <OrderButtons newest={newest} oldest={oldest} active={active} />\n            </div>\n        </div>\n    );\n}\n\nfunction OrderButtons({newest, oldest, active}) {\n   return (\n        <div className=\"container\" id=\"all-posts-header\" style={{width:'50%', paddingTop: '25px', paddingBottom: '0px'}}>\n            <div id=\"newest-container\">\n                <input id=\"community-newest-button\" type=\"button\"  value=\"Newest\" onClick={newest}/>\n            </div>\n            <div id=\"oldest-container\">\n                <input id=\"community-oldest-button\" type=\"button\"  value=\"Oldest\" onClick={oldest}/>\n            </div>\n            <div id=\"active-container\">\n                <input id=\"community-active-button\" type=\"button\"  value=\"Active\" onClick={active}/>\n            </div>\n        </div>\n   );\n}\n\nfunction CommunityPosts({posts}) {\n    // console.log(posts);\n    return (\n        <div>\n            <div className=\"container\" id=\"community-num-posts\">\n                <h3 className='num-posts-text'>\n                    {posts.length === 0 ? \"No Posts\" : `${posts.length} Post${posts.length > 1 ? \"s\" : \"\"}`}\n                </h3>\n            </div>\n            <div className=\"container\" id=\"community-posts\">\n                {posts.map((post) => {\n                    // console.log(post);\n                    if(!post) return;\n                    return <PostDisplay key={post._id} post={post} id={\"community\"}/>\n                })}\n            </div>\n        </div>\n    );\n    \n}\n\nfunction CommunityJoinOrLeave() {\n    const {\n        communityState: { community, setCommunity, setCommunities },\n        loginState: { login },\n        userState: { user, setUser },\n        showPageFunctions: { showCommunityPage },\n    } = useContext(PhredditContext);\n\n    const [isMember, setIsMember] = useState(false);\n\n    useEffect(() => {\n        if (login && user && community) {\n            setIsMember(\n                user.communityIDs.some(\n                    (c) => c._id?.toString() === community._id?.toString() || c.toString() === community._id?.toString()\n                )\n            );\n        } else {\n            setIsMember(false);\n        }\n    }, [login, user, community]);\n    \n    var buttonValue = \"\";\n    if(isMember){\n        buttonValue = \"Leave Community\";\n    } else {\n        buttonValue = \"Join Community\";\n    }\n    const joinOrLeaveButton = async () => {\n        console.log(isMember);\n        if (isMember) {\n            const response = await axios.post(\"http://127.0.0.1:8000/leavecommunity\", {\n                communityID: community._id,\n                userID: user._id\n            });\n            const { updatedCommunity, updatedUser } = response.data;\n            console.log(updatedCommunity);\n            setCommunity(updatedCommunity);\n            setUser(updatedUser);\n            showCommunityPage(updatedCommunity);\n            setIsMember(false);  \n            const updatedCommunities = await axios.get(\"http://127.0.0.1:8000/get/communities\");\n            setCommunities(updatedCommunities.data);\n        } else {\n            const response = await axios.post(\"http://127.0.0.1:8000/joincommunity\", {\n                communityID: community._id,\n                userID: user._id\n            });\n            const { updatedCommunity, updatedUser } = response.data;\n            setCommunity(updatedCommunity);\n            setUser(updatedUser);\n            showCommunityPage(updatedCommunity);\n            setIsMember(true);  \n            const updatedCommunities = await axios.get(\"http://127.0.0.1:8000/get/communities\");\n            setCommunities(updatedCommunities.data);\n        }\n\n        if(isMember){\n            buttonValue = \"Leave Community\";\n        } else {\n            buttonValue = \"Join Community\";\n        }\n    }\n\n    \n    return (\n        <div className=\"button-container\">\n            <input \n            id=\"join-or-leave-community-button-input\" \n            className=\"submit-button\" \n            type=\"button\" \n            value={buttonValue}\n            style={{display: login? 'block' : 'none'}}\n            onClick={joinOrLeaveButton}/>\n        </div>\n    );\n}\n\nexport { CommunityPageView };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}