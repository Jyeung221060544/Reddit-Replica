{"ast":null,"code":"var _jsxFileName = \"/Users/nekoro/Desktop/CSE316/GitHub/Reddit-Replica/client/src/components/loginPageView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { PhredditContext } from \"./context\";\nimport { arrayOfPostCommentsTime } from \"../helperFunctions\";\nimport axios from 'axios';\nimport ConfirmWindow from \"./confirm\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction LoginPageView() {\n  _s();\n  const {\n    showPageFunctions: {\n      currentPage\n    }\n  } = useContext(PhredditContext);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    id: \"login-page\",\n    style: {\n      display: currentPage === 'login-page' ? 'block' : 'none'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      id: \"login-page-inner\",\n      children: /*#__PURE__*/_jsxDEV(Contents, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginPageView, \"M5wCf6JcZkJScSpVfoulDIJnNxo=\");\n_c = LoginPageView;\nfunction Contents() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"login-body\",\n    children: [/*#__PURE__*/_jsxDEV(Title, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"login-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(EmailInquiry, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PasswordInquiry, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Contents;\nfunction Title() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"welcome-title\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n_c3 = Title;\nfunction EmailInquiry() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"label\",\n      children: \"Email * \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"login-email-input\",\n      className: \"input-textbox\",\n      type: \"text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_c4 = EmailInquiry;\nfunction PasswordInquiry() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"label\",\n      children: \"Password * \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"login-password-input\",\n      className: \"input-textbox\",\n      type: \"text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_c5 = PasswordInquiry;\nfunction SubmitButton() {\n  _s2();\n  const {\n    userState: {\n      setUser\n    },\n    showPageFunctions: {\n      handleShowHomePage\n    },\n    loginState: {\n      setLogin\n    }\n  } = useContext(PhredditContext);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [confirmMessage, setConfirmMessage] = useState(\"\");\n  const logingin = async () => {\n    let email = document.getElementById(\"login-email-input\").value;\n    let password = document.getElementById(\"login-password-input\").value;\n    document.getElementById(\"login-email-input\").value = \"\";\n    document.getElementById(\"login-password-input\").value = \"\";\n    try {\n      const response = await axios.post(\"http://localhost:8000/login\", {\n        email,\n        password\n      });\n      const user = response.data;\n      setUser(user);\n      setLogin(true);\n      handleShowHomePage();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const message = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || \"Login failed.\";\n      setConfirmMessage(message);\n      setShowConfirm(true);\n      console.error(\"Login failed:\", message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"create-post-button-input\",\n        className: \"submit-button\",\n        type: \"button\",\n        value: \"Login\",\n        onClick: logingin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), showConfirm && /*#__PURE__*/_jsxDEV(ConfirmWindow, {\n      title: \"Error Logging In\",\n      message: confirmMessage,\n      onConfirm: () => setShowConfirm(false),\n      onCancel: () => setShowConfirm(false),\n      confirmButtonMessage: \"Okay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s2(SubmitButton, \"z2uHWmPL9G2BQQa50Ll2HbHL+AI=\");\n_c6 = SubmitButton;\nexport { LoginPageView };\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"LoginPageView\");\n$RefreshReg$(_c2, \"Contents\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"EmailInquiry\");\n$RefreshReg$(_c5, \"PasswordInquiry\");\n$RefreshReg$(_c6, \"SubmitButton\");","map":{"version":3,"names":["React","useContext","useState","PhredditContext","arrayOfPostCommentsTime","axios","ConfirmWindow","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginPageView","_s","showPageFunctions","currentPage","className","id","style","display","children","Contents","fileName","_jsxFileName","lineNumber","columnNumber","_c","Title","EmailInquiry","PasswordInquiry","SubmitButton","_c2","_c3","type","_c4","_c5","_s2","userState","setUser","handleShowHomePage","loginState","setLogin","showConfirm","setShowConfirm","confirmMessage","setConfirmMessage","logingin","email","document","getElementById","value","password","response","post","user","data","err","_err$response","_err$response$data","message","error","console","onClick","title","onConfirm","onCancel","confirmButtonMessage","_c6","$RefreshReg$"],"sources":["/Users/nekoro/Desktop/CSE316/GitHub/Reddit-Replica/client/src/components/loginPageView.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { PhredditContext } from \"./context\";\nimport { arrayOfPostCommentsTime } from \"../helperFunctions\";\nimport axios from 'axios';\nimport ConfirmWindow from \"./confirm\";\n\nfunction LoginPageView() {\n    const {\n        showPageFunctions: { currentPage }\n    } = useContext(PhredditContext);\n    return (\n        <div className=\"\" id=\"login-page\" style={{ display: currentPage === 'login-page' ? 'block' : 'none'}}>\n            <div className=\"container\" id=\"login-page-inner\">\n                <Contents />\n            </div>\n        </div>\n    );\n      \n}\n\nfunction Contents() {\n    return (\n        <div id=\"login-body\">\n            <Title />\n            <div id=\"login-wrapper\">\n                <EmailInquiry/>\n                <PasswordInquiry/>\n                <SubmitButton />\n            </div>\n        </div>\n    );\n}\n\nfunction Title() {\n    return (\n        <div>\n            <h1 className='welcome-title'>Login</h1>\n        </div>\n    );\n}\n\nfunction EmailInquiry() {\n    return (\n        <div className=\"input-container\">\n            <br />\n            <label className=\"label\">Email * </label>\n            <input id=\"login-email-input\" className=\"input-textbox\"type=\"text\" />\n            {/*<p className=\"input-note\">Max Length: 100 characters</p>*/}\n        </div>\n    );\n}\n\nfunction PasswordInquiry() {\n    return (\n        <div className=\"input-container\">\n            <br />\n            <label className=\"label\">Password * </label>\n            <input id=\"login-password-input\" className=\"input-textbox\"type=\"text\" />\n            {/*<p className=\"input-note\">Max Length: 100 characters</p>*/}\n        </div>\n    );\n}\n\n\nfunction SubmitButton() {\n    const {\n        userState: {setUser},\n        showPageFunctions: { handleShowHomePage },\n        loginState: {setLogin},\n    } = useContext(PhredditContext);\n    const [showConfirm, setShowConfirm] = useState(false);\n    const [confirmMessage, setConfirmMessage] = useState(\"\");\n\n    const logingin = async () => {\n        let email = document.getElementById(\"login-email-input\").value;\n        let password = document.getElementById(\"login-password-input\").value;\n        document.getElementById(\"login-email-input\").value = \"\";\n        document.getElementById(\"login-password-input\").value = \"\";\n\n        try {\n            const response = await axios.post(\"http://localhost:8000/login\", {\n                email,\n                password\n            });\n\n            const user = response.data;\n            setUser(user);\n            setLogin(true);\n            handleShowHomePage();\n        } catch (err) {\n            const message = err.response?.data?.error || \"Login failed.\";\n            setConfirmMessage(message);\n            setShowConfirm(true);\n            console.error(\"Login failed:\", message);\n        }\n    };\n\n    return (\n        <>\n        <div className=\"button-container\">\n            <input id=\"create-post-button-input\" className=\"submit-button\" type=\"button\"  value=\"Login\" onClick={logingin}/>\n        </div>\n        {showConfirm && (\n            <ConfirmWindow\n                title=\"Error Logging In\"\n                message={confirmMessage}\n                onConfirm={() => setShowConfirm(false)}\n                onCancel={() => setShowConfirm(false)}\n                confirmButtonMessage=\"Okay\"\n            />\n        )}\n        </>\n    );\n\n}\nexport { LoginPageView };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}